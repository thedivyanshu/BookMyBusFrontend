{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nlet ViewAllBookingsComponent = class ViewAllBookingsComponent {\n  constructor(adminService, ngZone, router, route) {\n    this.adminService = adminService;\n    this.ngZone = ngZone;\n    this.router = router;\n    this.route = route;\n    this.userId = \"\";\n    this.bookings = [];\n    this.noBookingsFound = false;\n  }\n\n  fetchBookings() {\n    this.adminService.getBookingsByUser(this.userId).subscribe(data => {\n      this.bookings = data;\n      this.noBookingsFound = this.bookings.length === 0;\n      console.log(data); // Check the data in the console\n    }, error => {\n      alert(\"Booking not found for this user\");\n      console.error(\"Error fetching data:\", error);\n    });\n  }\n\n  deleteBooking(bookingId, userId) {\n    if (confirm(\"Are you sure you want to cancel this booking?\")) {\n      this.adminService.deleteBooking(bookingId, userId).subscribe(response => {\n        // After successful deletion, reload the booking list\n        this.fetchBookings(); // Manually trigger change detection using NgZone\n\n        this.ngZone.run(() => {});\n      }, error => {\n        console.error(error);\n      });\n    }\n  }\n\n};\nViewAllBookingsComponent = __decorate([Component({\n  selector: \"app-view-all-bookings\",\n  templateUrl: \"./view-all-bookings.component.html\",\n  styleUrls: [\"./view-all-bookings.component.css\"]\n})], ViewAllBookingsComponent);\nexport { ViewAllBookingsComponent };","map":null,"metadata":{},"sourceType":"module"}